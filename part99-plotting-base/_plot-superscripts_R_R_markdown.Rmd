---
output: html_document
editor_options: 
  chunk_output_type: console
---
# Super scripts in Rmarkdown text, R plots, and Rmarkdown tables

**NOTE**: the following notes are complete but not developed into a full lesson.

**Superscripting** for things like exponents is easy in word processors like MS Word.  Its harder in Rmarkdown and R, and unfortunately requires different code depending on the context.  Below I show how to do it within the text of rendered Rmarkdown document, in a plot (works for any R context, whether in Rmarkdown or not), and in a rendered Rmarkdown table using the package pander.

## Superscript in Rmarkdown

* "R^2" prints R^2
* "R\^2\^" prints R^2^
    + note 2^nd^ carrot after the "2"
    


## Plotting super scripts in R plots

* This requires using the `expression()` and `paste()` commands
* `expression()` converts "R^2" into R w/ a superscript
* `paste()` is used to combine the text for R^2^ with a numeric value.
* This works in any R context and it not specific to Rmarkdown


## Example

As an example I'll show how to extract the R^2^ value from regression output and plot it in a base R plot.

First, model the cat data from MASS with the `lm()` function

```{r, message=FALSE, warning=F}
library(MASS)
data("cats")

mod <- lm(Hwt ~ Bwt, data = cats)

```

Do a summary of model and store it as an object.  The summary contains the R^2^ value.

```{r}
mod.sum <- summary(mod)
mod.sum
```



Get R^2^ value from the model summary

```{r}
#library(grDevices)
R2 <- mod.sum$r.squared
R2.exp <- expression(paste(" ",R^2 ,"= 0.647"))
```


## Annotate plot with text()

```{r}
plot(Hwt ~ Bwt, data = cats)
abline(mod)
text(x = 1.95, y = 18, 
     label = R2.exp,
     pos = 4)

# NOTE: pos = 4 right justifies the symbol

```


## Annotate plot with mtext()

```{r}
plot(Hwt ~ Bwt, data = cats)
abline(mod)
mtext(R2.exp,
      side = 3,      #side = 3 sets to the top margin
      line = -1.75,  #-1.75 sets below the box
      adj = 0)       #adj=0 left justifies
```



## Super script in Rmarkdown table using pander()

```{r}

temp.df <- data.frame(c(mod.sum$fstatistic[1],mod.sum$r.squared))

names(temp.df) <- NULL

row.names(temp.df) <- c("F","$R^2$")

library(pander)
pander(temp.df)


```


## ggplot2

TO DO
